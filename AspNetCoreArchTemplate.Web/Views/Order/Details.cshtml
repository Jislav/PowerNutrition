@using PowerNutrition.Web.ViewModels.Order;
@model OrderDetailsViewModel;

@{
    ViewData["Title"] = "Order Details";
    decimal totalOrderPrice = 0;
}
<div>
    <h1 style="text-align:center; font-size:48px">Order details</h1>
    <div style="display: flex; gap:20px; border:2px black solid; margin-bottom:20px;justify-content:space-around; align-content:center">
        <p style="flex: 1">
            Address: @Model.Address
        </p>
        <p style ="flex: 1">
            City: @Model.City
        </p>
        <p style="flex: 1">
            Post Code: @Model.PostCode
        </p>
        <p style="flex: 1">
            Phone Number: @Model.PhoneNumber
        </p>
    </div>
    <h1 style="text-align:center; font-size:48px">Items</h1>
    <div style="border:2px black solid">
        @foreach (OrderDetailsItemsListViewmodel itemDetails in Model.Items)
        {
            <img width="100" height="100" src="@itemDetails.ImageUrl" />
            <div style="display:flex;justify-content:space-around; align-content:center" >
                <p style="flex: 1">
                    Name: @itemDetails.Name
                </p>
                <p style="flex: 1">
                    Quantity: @itemDetails.Quantity
                </p>
                <p style="flex: 1">
                    Price: @itemDetails.Price $
                </p>
                @{
                    totalOrderPrice += decimal.Parse(itemDetails.Price) * int.Parse(itemDetails.Quantity);
                }
            </div>
        }
    </div>

    <p>
        Final Price: @totalOrderPrice.ToString("f2") $
    </p>
    
</div>